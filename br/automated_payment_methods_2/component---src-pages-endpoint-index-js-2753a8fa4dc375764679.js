(self.webpackChunkderiv_com=self.webpackChunkderiv_com||[]).push([[4392],{9164:function(e,t,n){"use strict";var r=n(68838),i={email:/^[a-zA-Z0-9_.+-]+@((?:[\w]+\.)+)([a-zA-Z]{2,63}$)/,url:/^[\w|\-|.]+$/,alphabetic:/^[a-zA-Z]+$/,number:/^\d+$/},a={email:function(e,t){return i.email.test(e)?null:t||(0,r.NC)("Email is required")},required:function(e,t){return e?null:t||(0,r.NC)("This field is required")},url:function(e,t){return i.url.test(e)?null:t||(0,r.NC)("Please enter a valid URL format")},number:function(e,t){return i.number.test(e)?null:t||(0,r.NC)("Please enter a valid number")},alphabetic:function(e,t){return i.alphabetic.test(e)?null:t||(0,r.NC)("Please enter only alphabetic characters")}};t.Z=a},4597:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(67294),i=n(50009),a=n(75708),l=n(86299),o=n(68838),u=n(10667),c=n(82081),s=n(47009),d=n(42162),m=n(9164),p=n(44845),g=n(476),b=n(59982),f=n(8802),h=function(e,t){var n=(0,r.useState)((function(){var n=(0,p.jU)()?window.localStorage.getItem(t):null;return n?(0,p.sz)(n):e})),i=n[0],a=n[1];return(0,r.useEffect)((function(){(0,p.jU)()&&((0,p.MX)(i)?window.localStorage.removeItem(t):window.localStorage.setItem(t,i))}),[t,i]),[i,a]},_=(0,i.ZP)(d.II).withConfig({displayName:"endpoint__StyledInput",componentId:"sc-6exib9-0"})(["& ~ label{transform:translate(-0.6rem,-2rem) scale(0.7);color:var(--color-black-3);background-color:var(--color-",");@media ","{top:9px;}}"],(function(e){return e.background||"grey-1"}),l.Z.tabletL),v=(0,i.ZP)(c.W2).withConfig({displayName:"endpoint__StyledContainer",componentId:"sc-6exib9-1"})(["text-align:center;height:100vh;padding:auto 0;justify-content:start;"]),y=i.ZP.div.withConfig({displayName:"endpoint__ButtonContainer",componentId:"sc-6exib9-2"})(["margin-top:2rem;"]),C=i.ZP.div.withConfig({displayName:"endpoint__InputGroup",componentId:"sc-6exib9-3"})(["width:40rem;margin:0 auto 3.4rem;& > div{margin-bottom:1rem;}& > div:last-child{margin-bottom:0;}"]),E=(0,i.ZP)(d.zx).withConfig({displayName:"endpoint__StyledButton",componentId:"sc-6exib9-4"})(["margin:0.8rem 0.4rem;"]),w=function(e){var t={},n=(0,p.An)(e?e.server_url:""),r=(0,p.An)(e?e.app_id.toString():""),i=(0,p.An)(e?e.clients_country.toString():""),a=m.Z.required(n)||m.Z.url(n,"Please enter a valid server URL"),l=m.Z.required(r)||m.Z.number(r,"Please enter a valid app ID"),o=m.Z.required(i)||m.Z.alphabetic(i);return a&&(t.server_url=a),l&&(t.app_id=l),o&&(t.clients_country=o),t},S=(0,o.Wm)()((function(){var e=h(g.Ej,"config.server_url"),t=e[0],n=e[1],i=h((0,b.rh)(),"config.app_id"),l=i[0],o=i[1],d=r.useState(!1),m=d[0],p=d[1],S=r.useContext(f.c),I=S.website_status,Z=S.setWebsiteStatus,x=S.website_status_loading,P=function(e,t){e({message:t}),setTimeout((function(){e({})}),1500)};return r.createElement(u.Z,{type:"static",margin_top:"0"},r.createElement(c.HJ,{title:"Endpoint",description:"Change deriv API endpoint.",no_index:!0}),r.createElement(v,{justify:"center",align:"center",direction:"column"},r.createElement(s.h4,{as:"h2",type:"page-title",align:"center",mt:"80px"},"Change API endpoint"),r.createElement(s.h4,{as:"h4",type:"sub-section-title",align:"center",weight:"500",mt:"0.5rem",mb:"3.8rem"},"Update configuration for API endpoint or other settings"),r.createElement(a.J9,{initialValues:{server_url:t||"",app_id:l||"",clients_country:null!=I&&I.clients_country?null==I?void 0:I.clients_country:""},enableReinitialize:!0,validate:w,onSubmit:function(e,t){t.setSubmitting(!0),n(e.server_url),o(e.app_id);var r=Object.assign({},I,{clients_country:e.clients_country});Z(r),t.setSubmitting(!1),P(t.setStatus,"Config has been updated")}},(function(e){var t=e.values,i=e.errors,l=e.handleChange,u=e.handleBlur,c=e.isSubmitting,d=e.setStatus,f=e.setFieldValue,h=e.isValid,v=e.dirty,w=e.touched,S=e.status;return r.createElement(a.l0,{noValidate:!0},r.createElement(C,null,r.createElement(_,{name:"server_url",error:i.server_url,value:t.server_url,disabled:m,handleError:function(){return f("server_url","")},onChange:l,onBlur:u,type:"text",label:"Server URL",background:"white",placeholder:"e.g. green.binaryws.com"}),r.createElement(_,{name:"app_id",error:i.app_id,value:t.app_id,disabled:m,handleError:function(){return f("app_id","")},onChange:l,onBlur:u,type:"text",label:"App ID",background:"white",placeholder:"e.g. 9999"}),r.createElement(_,{name:"clients_country",error:i.clients_country,value:t.clients_country,disabled:x,handleError:function(){return f("clients_country","")},onChange:l,onBlur:u,type:"text",label:"Clients country",background:"white",placeholder:"e.g. mt (for EU) or gb (for UK) or za (for P2P)"})),r.createElement(s.xv,{align:"center",color:"green"},(null==S?void 0:S.message)&&S.message),r.createElement(y,null,r.createElement(E,{tertiary:!0,onClick:function(){return function(e){p(!0),n(),o(),setTimeout((function(){n(g.Ej),o((0,b.rh)()),p(!1)}),500),Z(),P(e,"Config has been reset successfully")}(d)},type:"button"},"Reset to original settings"),r.createElement(E,{secondary:"true",disabled:c||!v||!w||!h,type:"submit"},"Submit changes")))}))))}))}}]);
//# sourceMappingURL=component---src-pages-endpoint-index-js-2753a8fa4dc375764679.js.map