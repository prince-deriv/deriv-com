(self.webpackChunkderiv_com=self.webpackChunkderiv_com||[]).push([[4392],{9164:function(e,t,n){"use strict";var r=n(68838),i={email:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,63}$/,url:/^[\w|\-|.]+$/,alphabetic:/^[a-zA-Z]+$/,number:/^\d+$/},a={email:function(e,t){return i.email.test(e)?null:t||(0,r.NC)("Email is required")},required:function(e,t){return e?null:t||(0,r.NC)("This field is required")},url:function(e,t){return i.url.test(e)?null:t||(0,r.NC)("Please enter a valid URL format")},number:function(e,t){return i.number.test(e)?null:t||(0,r.NC)("Please enter a valid number")},alphabetic:function(e,t){return i.alphabetic.test(e)?null:t||(0,r.NC)("Please enter only alphabetic characters")}};t.Z=a},4597:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(67294),i=n(50009),a=n(75708),l=n(68838),o=n(10667),u=n(82081),c=n(34443),s=n(42162),d=n(9164),m=n(44845),p=n(476),g=n(59982),h=n(8802),b=function(e,t){var n=(0,r.useState)((function(){var n=(0,m.jU)()?window.localStorage.getItem(t):null;return n?(0,m.sz)(n):e})),i=n[0],a=n[1];return(0,r.useEffect)((function(){(0,m.jU)()&&((0,m.MX)(i)?window.localStorage.removeItem(t):window.localStorage.setItem(t,i))}),[t,i]),[i,a]},f=(0,i.ZP)(u.W2).withConfig({displayName:"endpoint__StyledContainer",componentId:"sc-6exib9-0"})(["text-align:center;height:100vh;padding:auto 0;justify-content:start;"]),_=i.ZP.div.withConfig({displayName:"endpoint__ButtonContainer",componentId:"sc-6exib9-1"})(["margin-top:2rem;"]),v=i.ZP.div.withConfig({displayName:"endpoint__InputGroup",componentId:"sc-6exib9-2"})(["width:40rem;margin:0 auto 3.4rem;& > div{margin-bottom:1rem;}& > div:last-child{margin-bottom:0;}"]),y=(0,i.ZP)(s.zx).withConfig({displayName:"endpoint__StyledButton",componentId:"sc-6exib9-3"})(["margin:0.8rem 0.4rem;"]),C=function(e){var t={},n=(0,m.An)(e?e.server_url:""),r=(0,m.An)(e?e.app_id.toString():""),i=(0,m.An)(e?e.clients_country.toString():""),a=d.Z.required(n)||d.Z.url(n,"Please enter a valid server URL"),l=d.Z.required(r)||d.Z.number(r,"Please enter a valid app ID"),o=d.Z.required(i)||d.Z.alphabetic(i);return a&&(t.server_url=a),l&&(t.app_id=l),o&&(t.clients_country=o),t},E=(0,l.Wm)()((function(){var e=b(p.Ej,"config.server_url"),t=e[0],n=e[1],i=b((0,g.rh)(),"config.app_id"),l=i[0],d=i[1],m=r.useState(!1),E=m[0],w=m[1],I=r.useContext(h.c),S=I.website_status,Z=I.setWebsiteStatus,P=I.website_status_loading,x=function(e,t){e({message:t}),setTimeout((function(){e({})}),1500)};return r.createElement(o.Z,{type:"static",margin_top:"0"},r.createElement(u.HJ,{title:"Endpoint",description:"Change deriv API endpoint.",no_index:!0}),r.createElement(f,{justify:"center",align:"center",direction:"column"},r.createElement(c.h4,{as:"h2",type:"page-title",align:"center",mt:"80px"},"Change API endpoint"),r.createElement(c.h4,{as:"h4",type:"sub-section-title",align:"center",weight:"500",mt:"0.5rem",mb:"3.8rem"},"Update configuration for API endpoint or other settings"),r.createElement(a.J9,{initialValues:{server_url:t||"",app_id:l||"",clients_country:null!=S&&S.clients_country?null==S?void 0:S.clients_country:""},enableReinitialize:!0,validate:C,onSubmit:function(e,t){t.setSubmitting(!0),n(e.server_url),d(e.app_id);var r=Object.assign({},S,{clients_country:e.clients_country});Z(r),t.setSubmitting(!1),x(t.setStatus,"Config has been updated")}},(function(e){var t=e.values,i=e.errors,l=e.handleChange,o=e.handleBlur,u=e.isSubmitting,m=e.setStatus,h=e.setFieldValue,b=e.isValid,f=e.dirty,C=e.touched,I=e.status;return r.createElement(a.l0,{noValidate:!0},r.createElement(v,null,r.createElement(s.II,{name:"server_url",error:i.server_url,value:t.server_url,disabled:E,handleError:function(){return h("server_url","")},onChange:l,onBlur:o,type:"text",label:"Server URL",background:"white",placeholder:"e.g. green.binaryws.com"}),r.createElement(s.II,{name:"app_id",error:i.app_id,value:t.app_id,disabled:E,handleError:function(){return h("app_id","")},onChange:l,onBlur:o,type:"text",label:"App ID",background:"white",placeholder:"e.g. 9999"}),r.createElement(s.II,{name:"clients_country",error:i.clients_country,value:t.clients_country,disabled:P,handleError:function(){return h("clients_country","")},onChange:l,onBlur:o,type:"text",label:"Clients country",background:"white",placeholder:"e.g. mt (for EU) or gb (for UK) or za (for P2P)"})),r.createElement(c.xv,{align:"center",color:"green"},(null==I?void 0:I.message)&&I.message),r.createElement(_,null,r.createElement(y,{tertiary:!0,onClick:function(){return function(e){w(!0),n(),d(),setTimeout((function(){n(p.Ej),d((0,g.rh)()),w(!1)}),500),Z(),x(e,"Config has been reset successfully")}(m)},type:"button"},"Reset to original settings"),r.createElement(y,{secondary:"true",disabled:u||!f||!C||!b,type:"submit"},"Submit changes")))}))))}))}}]);
//# sourceMappingURL=component---src-pages-endpoint-index-js-aa3fe07ac533566d4deb.js.map