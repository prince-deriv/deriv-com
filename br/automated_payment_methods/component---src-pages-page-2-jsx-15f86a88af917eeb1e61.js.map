{"version":3,"sources":["webpack://deriv-com/./src/pages/cancellablePromise.js","webpack://deriv-com/./src/pages/page-2.jsx"],"names":["promise","isCancelled","value","Promise","res","rej","rejectPromise","i","console","log","then","d","catch","e","cancel","useState","data","setData","useEffect","cancellablePromise","resolve","setTimeout","message","JSON","stringify"],"mappings":"yHA0BA,UA1B2B,SAACA,GACxB,IAAMC,EAAc,CAAEC,OAAO,GAiB7B,MAAO,CACHF,QAjBmB,IAAIG,SAAQ,SAACC,EAAKC,GACrC,IAAMC,EAAgB,SAACC,GACnBC,QAAQC,IAAI,0BAEZJ,EAAIE,IAGRP,EACKU,MAAK,SAACC,GACH,OAAOV,EAAYC,MAAQI,EAAcL,GAAeG,EAAIO,MAE/DC,OAAM,SAACC,GACJP,EAAcL,EAAYC,MAAQD,EAAcY,SAMxDC,OAAQ,WACJb,EAAYC,OAAQ,M,mGCOhC,UAxBc,WACV,OAAwBa,cAAS,MAA1BC,EAAP,KAAaC,EAAb,KAoBA,OAVAC,gBAAS,iBAAC,yGAC4BC,aAR3B,IAAIhB,SAAQ,SAACiB,GAChBC,YAAW,WACPD,EAAQ,CAAEE,QAAS,mBACpB,SAID,uBACEtB,EADF,EACEA,QAASc,EADX,EACWA,OAEjBd,EAAQU,MAAK,SAACC,GACVM,EAAQN,MAJN,kBAOCG,GAPD,2CAQP,IAEIE,EAAO,gCAAGO,KAAKC,UAAUR,IAAY","file":"component---src-pages-page-2-jsx-15f86a88af917eeb1e61.js","sourcesContent":["const cancellablePromise = (promise) => {\n    const isCancelled = { value: false }\n    const wrappedPromise = new Promise((res, rej) => {\n        const rejectPromise = (i) => {\n            console.log('Promise was cancelled!')\n\n            rej(i)\n        }\n\n        promise\n            .then((d) => {\n                return isCancelled.value ? rejectPromise(isCancelled) : res(d)\n            })\n            .catch((e) => {\n                rejectPromise(isCancelled.value ? isCancelled : e)\n            })\n    })\n\n    return {\n        promise: wrappedPromise,\n        cancel: () => {\n            isCancelled.value = true\n        },\n    }\n}\n\nexport default cancellablePromise\n","import React, { useEffect, useState } from 'react'\n// eslint-disable-next-line import/default\nimport cancellablePromise from './cancellablePromise'\n\nconst Page2 = () => {\n    const [data, setData] = useState(null)\n\n    const getData = () => {\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                resolve({ message: 'Yellow World' })\n            }, 3000)\n        })\n    }\n\n    useEffect(async () => {\n        const { promise, cancel } = await cancellablePromise(getData())\n\n        promise.then((d) => {\n            setData(d)\n        })\n\n        return cancel\n    }, [])\n\n    return data ? <>{JSON.stringify(data)}</> : 'Loading...'\n}\n\nexport default Page2\n"],"sourceRoot":""}